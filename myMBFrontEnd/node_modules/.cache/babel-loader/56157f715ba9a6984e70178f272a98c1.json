{"remainingRequest":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/babel-loader/lib/index.js!/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/eslint-loader/index.js??ref--13-0!/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js","dependencies":[{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js","mtime":1633942025223},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3dlaXppaGFuL1Byb2plY3RzL0phdmFTY3JpcHRQcmFjdGljZS9teU1lc3NhZ2VCb2FyZC9teU1CRnJvbnRFbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAvLyDot6jln5/luKYgY29va2llCgpheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyDnu5/kuIDlpITnkIYgcmVzCgpmdW5jdGlvbiByZXNIYW5kbGVyKCkgewogIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogIHZhciByZXNEYXRhID0gcmVzLmRhdGEgfHwge307CgogIGlmIChyZXNEYXRhLmVycm5vID09PSAwKSB7CiAgICByZXR1cm4gcmVzRGF0YS5kYXRhIHx8IHt9OwogIH0gLy8g57uf5LiA5by55Ye66ZSZ6K+vCgoKICBpZiAoIXJlc0RhdGEuaGlkZU1lc3NhZ2UpIHsKICAgIGFsZXJ0KHJlc0RhdGEubWVzc2FnZSk7CiAgfQoKICB0aHJvdyBFcnJvcigiXHU5NTE5XHU4QkVGXHU3ODAxXHVGRjFBICIuY29uY2F0KHJlc0RhdGEuZXJybm8sICIgXG5cdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcdUZGMUEiKS5jb25jYXQocmVzRGF0YS5tZXNzYWdlKSk7Cn0KLyoqCiAqIOWPkemAgSBnZXQg6K+35rGCCiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgdXJsCiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgdXJsIOWPguaVsAogKi8KCgpmdW5jdGlvbiBhamF4R2V0KCkgewogIHJldHVybiBfYWpheEdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDlj5HpgIEgcG9zdCDor7fmsYIKICogQHBhcmFtIHtTdHJpbmd9IHVybCB1cmwKICogQHBhcmFtIHtPYmplY3R9IGRhdGEgcG9zdCBib2R5CiAqLwoKCmZ1bmN0aW9uIF9hamF4R2V0KCkgewogIF9hamF4R2V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgdXJsLAogICAgICAgIHBhcmFtcywKICAgICAgICByZXMsCiAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHVybCA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogJyc7CiAgICAgICAgICAgIHBhcmFtcyA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDoge307CgogICAgICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgcGFyYW1zKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc0hhbmRsZXIocmVzKSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwogICAgICAgICAgICB0aHJvdyBFcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzQsIDExXV0pOwogIH0pKTsKICByZXR1cm4gX2FqYXhHZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gYWpheFBvc3QoKSB7CiAgcmV0dXJuIF9hamF4UG9zdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWpheFBvc3QoKSB7CiAgX2FqYXhQb3N0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgdmFyIHVybCwKICAgICAgICBkYXRhLAogICAgICAgIHJlcywKICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB1cmwgPSBfYXJnczIubGVuZ3RoID4gMCAmJiBfYXJnczJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlswXSA6ICcnOwogICAgICAgICAgICBkYXRhID0gX2FyZ3MyLmxlbmd0aCA+IDEgJiYgX2FyZ3MyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMV0gOiB7fTsKCiAgICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGRhdGEpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXNIYW5kbGVyKHJlcykpOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgdGhyb3cgRXJyb3IoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s0LCAxMV1dKTsKICB9KSk7CiAgcmV0dXJuIF9hamF4UG9zdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgeyBhamF4R2V0LCBhamF4UG9zdCB9Ow=="},{"version":3,"sources":["/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js"],"names":["axios","defaults","withCredentials","resHandler","res","resData","data","errno","hideMessage","alert","message","Error","ajaxGet","url","params","get","ajaxPost","post"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAEA;;AACA,SAASC,UAAT,GAA8B;AAAA,MAAVC,GAAU,uEAAJ,EAAI;AAC1B,MAAMC,OAAO,GAAGD,GAAG,CAACE,IAAJ,IAAY,EAA5B;;AACA,MAAID,OAAO,CAACE,KAAR,KAAkB,CAAtB,EAAyB;AACrB,WAAOF,OAAO,CAACC,IAAR,IAAgB,EAAvB;AACH,GAJyB,CAM1B;;;AACA,MAAI,CAACD,OAAO,CAACG,WAAb,EAA0B;AACtBC,IAAAA,KAAK,CAACJ,OAAO,CAACK,OAAT,CAAL;AACH;;AACD,QAAMC,KAAK,oCAASN,OAAO,CAACE,KAAjB,8CAAiCF,OAAO,CAACK,OAAzC,EAAX;AACH;AAED;;;;;;;SAKeE,O;;;AAWf;;;;;;;;;;0BAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuBC,YAAAA,GAAvB,2DAA6B,EAA7B;AAAiCC,YAAAA,MAAjC,2DAA0C,EAA1C;;AAAA,gBACSD,GADT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAI0Bb,KAAK,CAACe,GAAN,CAAUF,GAAV,EAAeC,MAAf,CAJ1B;;AAAA;AAIcV,YAAAA,GAJd;AAAA,6CAKeD,UAAU,CAACC,GAAD,CALzB;;AAAA;AAAA;AAAA;AAAA,kBAOcO,KAAK,aAPnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAgBeK,Q;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwBH,YAAAA,GAAxB,8DAA8B,EAA9B;AAAkCP,YAAAA,IAAlC,8DAAyC,EAAzC;;AAAA,gBACSO,GADT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAI0Bb,KAAK,CAACiB,IAAN,CAAWJ,GAAX,EAAgBP,IAAhB,CAJ1B;;AAAA;AAIcF,YAAAA,GAJd;AAAA,8CAKeD,UAAU,CAACC,GAAD,CALzB;;AAAA;AAAA;AAAA;AAAA,kBAOcO,KAAK,cAPnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAWA,SACIC,OADJ,EAEII,QAFJ","sourcesContent":["import axios from 'axios'\n\n// 跨域带 cookie\naxios.defaults.withCredentials = true\n\n// 统一处理 res\nfunction resHandler(res = {}) {\n    const resData = res.data || {}\n    if (resData.errno === 0) {\n        return resData.data || {}\n    }\n\n    // 统一弹出错误\n    if (!resData.hideMessage) {\n        alert(resData.message)\n    }\n    throw Error(`错误码： ${resData.errno} \\n错误信息：${resData.message}`)\n}\n\n/**\n * 发送 get 请求\n * @param {String} url url\n * @param {Object} params url 参数\n */\nasync function ajaxGet(url = '', params = {}) {\n    if (!url) return\n\n    try {\n        const res = await axios.get(url, params)\n        return resHandler(res)\n    } catch (ex) {\n        throw Error(ex)\n    }\n}\n\n/**\n * 发送 post 请求\n * @param {String} url url\n * @param {Object} data post body\n */\nasync function ajaxPost(url = '', data = {}) {\n    if (!url) return\n\n    try {\n        const res = await axios.post(url, data)\n        return resHandler(res)\n    } catch (ex) {\n        throw Error(ex)\n    }\n}\n\nexport {\n    ajaxGet,\n    ajaxPost\n}\n"]}]}