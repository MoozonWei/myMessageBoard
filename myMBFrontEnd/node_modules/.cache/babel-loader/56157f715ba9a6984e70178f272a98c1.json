{"remainingRequest":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/babel-loader/lib/index.js!/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/eslint-loader/index.js??ref--13-0!/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js","dependencies":[{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js","mtime":1582376756000},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3dlaXppaGFuL1Byb2plY3RzL0phdmFTY3JpcHRQcmFjdGljZS9teU1lc3NhZ2VCb2FyZC9teU1CRnJvbnRFbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKLyoqCiAqIEBkZXNjcmlwdGlvbiBhamF4IOW3peWFt+WwgeijhQogKiBAYXV0aG9yIOWPjOi2iuiAgeW4iAogKi8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8g6Leo5Z+f5bimIGNvb2tpZQoKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsgLy8g57uf5LiA5aSE55CGIHJlcwoKZnVuY3Rpb24gcmVzSGFuZGxlcigpIHsKICB2YXIgcmVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgcmVzRGF0YSA9IHJlcy5kYXRhIHx8IHt9OwoKICBpZiAocmVzRGF0YS5lcnJubyA9PT0gMCkgewogICAgcmV0dXJuIHJlc0RhdGEuZGF0YSB8fCB7fTsKICB9IC8vIOe7n+S4gOW8ueWHuumUmeivrwoKCiAgaWYgKCFyZXNEYXRhLmhpZGVNZXNzYWdlKSB7CiAgICBhbGVydChyZXNEYXRhLm1lc3NhZ2UpOwogIH0KCiAgdGhyb3cgRXJyb3IoIlx1OTUxOVx1OEJFRlx1NzgwMVx1RkYxQSAiLmNvbmNhdChyZXNEYXRhLmVycm5vLCAiIFxuXHU5NTE5XHU4QkVGXHU0RkUxXHU2MDZGXHVGRjFBIikuY29uY2F0KHJlc0RhdGEubWVzc2FnZSkpOwp9Ci8qKgogKiDlj5HpgIEgZ2V0IOivt+axggogKiBAcGFyYW0ge1N0cmluZ30gdXJsIHVybAogKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHVybCDlj4LmlbAKICovCgoKZnVuY3Rpb24gYWpheEdldCgpIHsKICByZXR1cm4gX2FqYXhHZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioKICog5Y+R6YCBIHBvc3Qg6K+35rGCCiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgdXJsCiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIHBvc3QgYm9keQogKi8KCgpmdW5jdGlvbiBfYWpheEdldCgpIHsKICBfYWpheEdldCA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgdmFyIHVybCwKICAgICAgICBwYXJhbXMsCiAgICAgICAgcmVzLAogICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB1cmwgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6ICcnOwogICAgICAgICAgICBwYXJhbXMgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IHt9OwoKICAgICAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIHBhcmFtcyk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNIYW5kbGVyKHJlcykpOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgdGhyb3cgRXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMV1dKTsKICB9KSk7CiAgcmV0dXJuIF9hamF4R2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGFqYXhQb3N0KCkgewogIHJldHVybiBfYWpheFBvc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2FqYXhQb3N0KCkgewogIF9hamF4UG9zdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHZhciB1cmwsCiAgICAgICAgZGF0YSwKICAgICAgICByZXMsCiAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXJsID0gX2FyZ3MyLmxlbmd0aCA+IDAgJiYgX2FyZ3MyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMF0gOiAnJzsKICAgICAgICAgICAgZGF0YSA9IF9hcmdzMi5sZW5ndGggPiAxICYmIF9hcmdzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzFdIDoge307CgogICAgICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzSGFuZGxlcihyZXMpKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgIHRocm93IEVycm9yKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTFdXSk7CiAgfSkpOwogIHJldHVybiBfYWpheFBvc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IHsgYWpheEdldCwgYWpheFBvc3QgfTs="},{"version":3,"sources":["/Users/weizihan/Projects/JavaScriptPractice/myMessageBoard/myMBFrontEnd/src/utils/ajax.js"],"names":["axios","defaults","withCredentials","resHandler","res","resData","data","errno","hideMessage","alert","message","Error","ajaxGet","url","params","get","ajaxPost","post"],"mappings":";;;;AAAA;;;;AAKA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAEA;;AACA,SAASC,UAAT,GAA8B;AAAA,MAAVC,GAAU,uEAAJ,EAAI;AAC1B,MAAMC,OAAO,GAAGD,GAAG,CAACE,IAAJ,IAAY,EAA5B;;AACA,MAAID,OAAO,CAACE,KAAR,KAAkB,CAAtB,EAAyB;AACrB,WAAOF,OAAO,CAACC,IAAR,IAAgB,EAAvB;AACH,GAJyB,CAM1B;;;AACA,MAAI,CAACD,OAAO,CAACG,WAAb,EAA0B;AACtBC,IAAAA,KAAK,CAACJ,OAAO,CAACK,OAAT,CAAL;AACH;;AACD,QAAMC,KAAK,oCAASN,OAAO,CAACE,KAAjB,8CAAiCF,OAAO,CAACK,OAAzC,EAAX;AACH;AAED;;;;;;;SAKeE,O;;;AAWf;;;;;;;;;;0BAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuBC,YAAAA,GAAvB,2DAA6B,EAA7B;AAAiCC,YAAAA,MAAjC,2DAA0C,EAA1C;;AAAA,gBACSD,GADT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAI0Bb,KAAK,CAACe,GAAN,CAAUF,GAAV,EAAeC,MAAf,CAJ1B;;AAAA;AAIcV,YAAAA,GAJd;AAAA,6CAKeD,UAAU,CAACC,GAAD,CALzB;;AAAA;AAAA;AAAA;AAAA,kBAOcO,KAAK,aAPnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAgBeK,Q;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwBH,YAAAA,GAAxB,8DAA8B,EAA9B;AAAkCP,YAAAA,IAAlC,8DAAyC,EAAzC;;AAAA,gBACSO,GADT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAI0Bb,KAAK,CAACiB,IAAN,CAAWJ,GAAX,EAAgBP,IAAhB,CAJ1B;;AAAA;AAIcF,YAAAA,GAJd;AAAA,8CAKeD,UAAU,CAACC,GAAD,CALzB;;AAAA;AAAA;AAAA;AAAA,kBAOcO,KAAK,cAPnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAWA,SACIC,OADJ,EAEII,QAFJ","sourcesContent":["/**\n * @description ajax 工具封装\n * @author 双越老师\n */\n\nimport axios from 'axios'\n\n// 跨域带 cookie\naxios.defaults.withCredentials = true\n\n// 统一处理 res\nfunction resHandler(res = {}) {\n    const resData = res.data || {}\n    if (resData.errno === 0) {\n        return resData.data || {}\n    }\n\n    // 统一弹出错误\n    if (!resData.hideMessage) {\n        alert(resData.message)\n    }\n    throw Error(`错误码： ${resData.errno} \\n错误信息：${resData.message}`)\n}\n\n/**\n * 发送 get 请求\n * @param {String} url url\n * @param {Object} params url 参数\n */\nasync function ajaxGet(url = '', params = {}) {\n    if (!url) return\n\n    try {\n        const res = await axios.get(url, params)\n        return resHandler(res)\n    } catch (ex) {\n        throw Error(ex)\n    }\n}\n\n/**\n * 发送 post 请求\n * @param {String} url url\n * @param {Object} data post body\n */\nasync function ajaxPost(url = '', data = {}) {\n    if (!url) return\n\n    try {\n        const res = await axios.post(url, data)\n        return resHandler(res)\n    } catch (ex) {\n        throw Error(ex)\n    }\n}\n\nexport {\n    ajaxGet,\n    ajaxPost\n}\n"]}]}